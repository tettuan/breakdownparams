# 型定義

> 注意: このドキュメントは概要のみを提供します。詳細な仕様は `docs/` ディレクトリの各ドキュメントを参照してください。

このディレクトリは、breakdownparamsライブラリの型定義を提供します。型定義は、パラメータ解析、バリデーション、エラー処理などの基本機能を型安全に実装するために使用されます。

## 目的と責務

型定義ディレクトリは、以下の主要な責務を持っています：

1. **型安全性の確保**
   - コンパイル時の型チェックによる実行時エラーの防止
   - 型の整合性を保証するためのインターフェース定義
   - 型変換の安全性を保証するための型システムの提供

2. **一貫性のあるデータ構造の定義**
   - パラメータ解析結果の標準化された形式の提供
   - バリデーション結果の統一された表現方法の定義
   - エラー情報の構造化された形式の定義

3. **拡張性の提供**
   - 新しい型の追加を容易にするインターフェース設計
   - カスタムバリデーションルールの柔軟な実装を可能にする型定義
   - 既存コードへの影響を最小限に抑えた拡張方法の提供

## 主要な型定義

### オプション関連の型

`option_type.ts` は、コマンドラインオプションの基本的な型定義を提供します。これには、オプションの種類（値を持つオプション、フラグオプション、カスタム変数オプション）や、オプションの基本情報（名前、エイリアス、説明など）が含まれます。

### バリデーション関連の型

`validation_result.ts` は、バリデーション処理の結果を表現する型を定義します。バリデーションの成功/失敗、検証済みパラメータ、エラー情報、オプション設定値などを含む、包括的な結果型を提供します。

### パラメータ解析関連の型

`params_result.ts` は、パラメータ解析の結果を表現する型を定義します。パラメータの種類（なし/単一/二重）に応じた結果型と、エラー情報を含む型を提供します。

### 設定関連の型

`option_rule.ts` と `params_config.ts` は、オプションのバリデーションルールやパラメータの設定を定義する型を提供します。これにより、柔軟な設定と厳格なバリデーションを両立させることができます。

## 型システムの特徴

1. **型安全性**
   - コンパイル時の型チェックによる実行時エラーの防止
   - 型の整合性を保証するインターフェース設計
   - 型変換の安全性を保証する型システム

2. **一貫性**
   - 共通のインターフェースによる統一された操作
   - 標準化されたエラーハンドリング
   - 一貫したバリデーションプロセス

3. **拡張性**
   - インターフェースベースの設計による柔軟な拡張
   - プラグイン可能なバリデーションルール
   - 既存コードへの影響を最小限に抑えた拡張方法

## 関連ドキュメント

詳細な仕様や使用方法については、以下のドキュメントを参照してください：

- [パラメータ型定義仕様](docs/params_type.ja.md)
- [オプション仕様](docs/options.ja.md)
- [カスタム変数オプション仕様](docs/user_variable_options.ja.md)
- [バリデーション仕様](docs/validation.ja.md)
